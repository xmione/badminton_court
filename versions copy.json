{
    "system_tools": [
        {
            "appName": "Chocolatey",
            "installCommand": "choco install chocolatey -y",
            "checkCommand": "Test-Path \"C:\\ProgramData\\chocolatey\\choco.exe\"",
            "uninstallCommand": "Write-Warning 'Uninstalling Chocolatey can break other applications. This is not recommended.'; $response = Read-Host 'Type \"y\" to continue or any other key to cancel:'; if ($response -eq 'y') { Write-Host 'Removing Chocolatey directories...'; Remove-Item -Path \"$env:ProgramData\\chocolatey\" -Recurse -Force; Remove-Item -Path \"$env:ProgramData\\chocolatey-old\" -Recurse -Force -ErrorAction SilentlyContinue; Write-Host 'Removing Chocolatey from PATH...'; $path = [Environment]::GetEnvironmentVariable('PATH', 'User'); $newPath = $path -replace [regex]::Escape('C:\\ProgramData\\chocolatey\\bin'), ''; [Environment]::SetEnvironmentVariable('PATH', $newPath, 'User'); Write-Host 'Chocolatey has been uninstalled. A restart may be required to complete the removal.' }",
            "envPath": "C:\\ProgramData\\chocolatey\\bin",
            "manualInstallUrl": null,
            "manualInstallPath": null,
            "isCoreTool": true,
            "maxRetries": 1,
            "version": "2.5.1"
        },
        {
            "appName": "git",
            "installCommand": "winget install --id Git.Git",
            "checkCommand": "Test-Path \"C:\\Program Files\\Git\\cmd\\git.exe\"",
            "uninstallCommand": "winget uninstall --id Git.Git",
            "envPath": "C:\\Program Files\\Git\\cmd",
            "manualInstallUrl": null,
            "manualInstallPath": null,
            "isCoreTool": true,
            "maxRetries": 2,
            "version": "2.49.0."
        },
        {
            "appName": "Visual Studio Build Tools",
            "installCommand": "$vsOverride = $tool.components | ForEach-Object { \"--add $_\" }; $vsOverride += \"--quiet\", \"--wait\", \"--norestart\"; $vsOverrideString = $vsOverride -join \" \"; winget install --id Microsoft.VisualStudio.2022.BuildTools --override $vsOverrideString",
            "checkCommand": "$linker = Get-Command link.exe -ErrorAction SilentlyContinue; if ($linker) { return $true } else { $commonPaths = @(\"${env:ProgramFiles(x86)}\\Microsoft Visual Studio\\2022\\BuildTools\\VC\\Tools\\MSVC\", \"${env:ProgramFiles(x86)}\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\"); foreach ($basePath in $commonPaths) { if (Test-Path $basePath) { $msvcDirs = Get-ChildItem -Path $basePath -Directory | Sort-Object Name -Descending; foreach ($dir in $msvcDirs) { $binPath = Join-Path $dir.FullName \"bin\\Hostx64\\x64\"; $linkPath = Join-Path $binPath \"link.exe\"; if (Test-Path $linkPath) { return $true } } } }; return $false }",
            "uninstallCommand": "winget uninstall --id Microsoft.VisualStudio.2022.BuildTools",
            "envPath": "${env:ProgramFiles(x86)}\\Microsoft Visual Studio\\2022\\BuildTools\\VC\\Tools\\MSVC",
            "manualInstallUrl": "https://aka.ms/vs/17/release/vs_buildtools.exe",
            "manualInstallPath": "$env:TEMP\\vs_buildtools.exe",
            "isCoreTool": true,
            "maxRetries": 3,
            "components": [
                "Microsoft.VisualStudio.Workload.VCTools",
                "Microsoft.VisualStudio.Component.VC.Tools.x86.x64",
                "Microsoft.VisualStudio.Component.Windows10SDK.22621"
            ],
            "version": "17.14.36121.58"
        },
        {
            "appName": "Windows SDK",
            "installCommand": "winget install --id Microsoft.WindowsSDK --exact --version 10.0.22621.1",
            "checkCommand": "$sdkVersion = \"10.0.22621.1\"; $sdkPaths = @(\"${env:ProgramFiles(x86)}\\Windows Kits\\10\\Lib\\$sdkVersion\\um\\x64\\kernel32.lib\", \"${env:ProgramFiles(x86)}\\Windows Kits\\10\\Lib\\10.0.20348.0\\um\\x64\\kernel32.lib\", \"${env:ProgramFiles(x86)}\\Windows Kits\\10\\Lib\\10.0.22000.0\\um\\x64\\kernel32.lib\"); foreach ($path in $sdkPaths) { if (Test-Path $path) { return $true } }; return $false",
            "uninstallCommand": "winget uninstall --id Microsoft.WindowsSDK",
            "envPath": "${env:ProgramFiles(x86)}\\Windows Kits\\10\\bin\\10.0.22621.0\\x64",
            "manualInstallUrl": null,
            "manualInstallPath": null,
            "isCoreTool": false,
            "maxRetries": 2
        },
        {
            "appName": "docker-desktop",
            "installCommand": "choco install docker-desktop --version=4.34.2 -y",
            "checkCommand": "(Get-Process -Name \"Docker Desktop\" -ErrorAction SilentlyContinue) -or (Test-Path \"C:\\Program Files\\Docker\\Docker\\Docker Desktop.exe\")",
            "uninstallCommand": "choco uninstall docker-desktop -y",
            "envPath": "C:\\Program Files\\Docker\\Docker",
            "manualInstallUrl": null,
            "manualInstallPath": null,
            "isCoreTool": true,
            "maxRetries": 2,
            "version": "4.34.2"
        },
        {
            "appName": "MinGW",
            "installCommand": "choco install mingw -y",
            "checkCommand": "Test-Path \"C:\\ProgramData\\mingw64\\mingw64\\bin\\gcc.exe\"",
            "uninstallCommand": "choco uninstall mingw -y",
            "envPath": "C:\\ProgramData\\mingw64\\mingw64\\bin",
            "manualInstallUrl": null,
            "manualInstallPath": null,
            "isCoreTool": false,
            "maxRetries": 1
        },
        {
            "appName": "nodejs",
            "installCommand": "choco install nodejs --version=22.9.0 -y",
            "checkCommand": "Test-Path \"C:\\Program Files\\nodejs\\node.exe\"",
            "uninstallCommand": "choco uninstall nodejs -y",
            "envPath": "C:\\Program Files\\nodejs",
            "manualInstallUrl": null,
            "manualInstallPath": null,
            "isCoreTool": false,
            "maxRetries": 1,
            "version": "v22.16.0"
        },
        {
            "appName": "pnpm",
            "installCommand": "choco install pnpm --version=9.15.5 --force --allow-downgrade -y",
            "checkCommand": "Test-Path \"C:\\ProgramData\\chocolatey\\bin\\pnpm.exe\"",
            "uninstallCommand": "choco uninstall pnpm -y",
            "envPath": "C:\\ProgramData\\chocolatey\\bin",
            "manualInstallUrl": null,
            "manualInstallPath": null,
            "isCoreTool": false,
            "maxRetries": 1
        },
        {
            "appName": "gh",
            "installCommand": "winget install --id GitHub.cli",
            "checkCommand": "Test-Path \"C:\\Program Files\\GitHub CLI\\gh.exe\"",
            "uninstallCommand": "winget uninstall --id GitHub.cli",
            "envPath": "C:\\Program Files\\GitHub CLI",
            "manualInstallUrl": null,
            "manualInstallPath": null,
            "isCoreTool": true,
            "maxRetries": 2
        },
        {
            "appName": "nvm",
            "installCommand": "winget install -e --id CoreyButler.NVMforWindows",
            "checkCommand": "Test-Path \"$env:LOCALAPPDATA\\nvm\\nvm.exe\"",
            "uninstallCommand": "winget uninstall --id CoreyButler.NVMforWindows",
            "envPath": "$env:LOCALAPPDATA\\Local\\nvm",
            "manualInstallUrl": null,
            "manualInstallPath": null,
            "isCoreTool": false,
            "maxRetries": 1
        },
        {
            "appName": ".NET 9.0.100",
            "installCommand": "$dotnetInstallScriptUrl = \"https://dotnet.microsoft.com/download/dotnet/scripts/v1/dotnet-install.ps1\"; Invoke-WebRequest -Uri $dotnetInstallScriptUrl -OutFile \"dotnet-install.ps1\"; .\\dotnet-install.ps1 -Version \"9.0.100\" -InstallDir \"$HOME\\.dotnet\"",
            "checkCommand": "$dotnetExe = \"$HOME\\.dotnet\\dotnet.exe\"; if (Test-Path $dotnetExe) { $installedVersion = & $dotnetExe --version; return $installedVersion.Trim() -eq \"9.0.100\" } else { return $false }",
            "uninstallCommand": "Remove-Item -Path \"$HOME\\.dotnet\" -Recurse -Force",
            "envPath": "$HOME\\.dotnet",
            "manualInstallUrl": null,
            "manualInstallPath": null,
            "isCoreTool": false,
            "maxRetries": 2,
            "version": "9.0.300"
        },
        {
            "appName": "OpenSSH",
            "installCommand": "winget install --id Microsoft.OpenSSH.Beta -e --source winget",
            "checkCommand": "$sshPath = \"C:\\Windows\\System32\\OpenSSH\\ssh.exe\"; $sshService = Get-Service -Name \"ssh-agent\" -ErrorAction SilentlyContinue; return (Test-Path $sshPath) -and ($sshService -ne $null)",
            "uninstallCommand": "winget uninstall --id Microsoft.OpenSSH.Beta",
            "envPath": "C:\\Windows\\System32\\OpenSSH",
            "manualInstallUrl": null,
            "manualInstallPath": null,
            "isCoreTool": false,
            "maxRetries": 1,
            "version": "OpenSSH_9.5p2 for Windows"
        },
        {
            "appName": "OpenSSL",
            "installCommand": "choco install openssl --version=3.5.1 -y",
            "checkCommand": "Test-Path \"C:\\Program Files\\OpenSSL-Win64\\bin\\openssl.exe\"",
            "uninstallCommand": "choco uninstall openssl -y",
            "envPath": "C:\\Program Files\\OpenSSL-Win64\\bin",
            "manualInstallUrl": "https://slproweb.com/download/Win64OpenSSL-3_5_1.exe",
            "manualInstallPath": "C:\\Temp\\Win64OpenSSL-3_5_1.exe",
            "isCoreTool": true,
            "maxRetries": 1,
            "version": "3.5.1"
        },
        {
            "appName": "Vercel CLI",
            "installCommand": "& \"$ScriptDir\\ivercel-win.ps1\"",
            "checkCommand": "Get-Command vercel -ErrorAction SilentlyContinue",
            "uninstallCommand": "pnpm uninstall -g vercel",
            "envPath": "$env:APPDATA\\pnpm\\bin",
            "manualInstallUrl": null,
            "manualInstallPath": null,
            "isCoreTool": false,
            "maxRetries": 1
        },
        {
            "appName": "Git Credential Manager",
            "installCommand": "winget install --id Git.GCM --exact --version 2.6.1 -e",
            "checkCommand": "Test-Path \"$env:ProgramFiles\\Git\\mingw64\\bin\\git-credential-manager.exe\"",
            "uninstallCommand": "winget uninstall --id Git.GCM",
            "envPath": "$env:ProgramFiles\\Git\\mingw64\\bin",
            "manualInstallUrl": null,
            "manualInstallPath": null,
            "isCoreTool": false,
            "maxRetries": 2,
            "version": "2.6.1"
        },
        {
            "appName": "GraphViz",
            "installCommand": "winget install Graphviz",
            "checkCommand": "$gpvrPath = \"C:\\Program Files\\Graphviz\\bin\\gvpr.exe\"; $cmdExists = Get-Command gvpr -ErrorAction SilentlyContinue; return ($gpvrPath -and $cmdExists)",
            "uninstallCommand": "winget uninstall --id Graphviz.Graphviz",
            "envPath": "C:\\Program Files\\Graphviz\\bin",
            "manualInstallUrl": null,
            "manualInstallPath": null,
            "isCoreTool": false,
            "maxRetries": 1
        },
        {
            "appName": "GPG",
            "installCommand": "choco install gpg4win -y",
            "checkCommand": "Test-CommandExists \"gpg\"",
            "uninstallCommand": "choco uninstall gpg4win -y",
            "envPath": "C:\\Program Files (x86)\\GnuPG\\bin",
            "manualInstallUrl": "https://files.gpg4win.org/gpg4win-4.3.0.exe",
            "manualInstallPath": "$env:TEMP\\gpg4win-4.3.0.exe",
            "isCoreTool": true,
            "maxRetries": 1
        },
        {
            "appName": "Python",
            "version": "3.12.10",
            "installer_url": "https://www.python.org/ftp/python/3.12.10/python-3.12.10-amd64.exe",
            "installCommand": "$installerUrl = \"https://www.python.org/ftp/python/3.12.3/python-3.12.3-amd64.exe\"; $installerPath = \"$env:TEMP\\python-installer.exe\"; Invoke-WebRequest -Uri $installerUrl -OutFile $installerPath; Start-Process -FilePath $installerPath -ArgumentList \"/quiet InstallAllUsers=1 PrependPath=1\" -Wait; Remove-Item $installerPath -Force",
            "checkCommand": "$requiredVersion = \"3.12.3\"; $pythonPaths = @(\"$env:LocalAppData\\Programs\\Python\\Python312\\python.exe\", \"$env:ProgramFiles\\Python312\\python.exe\", \"$env:ProgramFiles\\Python39\\python.exe\"); foreach ($path in $pythonPaths) { if (Test-Path $path) { try { $installedVersion = & $path --version 2>&1; if ($installedVersion -match $requiredVersion) { return $true } } catch { } } }; $pythonCmd = Get-Command python -ErrorAction SilentlyContinue; if ($pythonCmd) { try { $installedVersion = & $pythonCmd.Source --version 2>&1; if ($installedVersion -match $requiredVersion) { return $true } } catch { } }; return $false",
            "uninstallCommand": "winget uninstall --id Python.Python.3.12",
            "envPath": "$env:LocalAppData\\Programs\\Python\\Python312",
            "manualInstallUrl": null,
            "manualInstallPath": null,
            "isCoreTool": true,
            "maxRetries": 2
        },
        {
            "appName": "ngrok",
            "installCommand": "choco install ngrok -y",
            "checkCommand": "Test-Path \"$env:ProgramData\\chocolatey\\bin\\ngrok.exe\"",
            "uninstallCommand": "choco uninstall ngrok -y",
            "envPath": "$env:ProgramData\\chocolatey\\bin",
            "manualInstallUrl": "https://bin.equinox.io/c/bNyj1mQVY4c/ngrok-v3-stable-windows-amd64.zip",
            "manualInstallPath": "$env:TEMP\\ngrok.zip",
            "isCoreTool": true,
            "maxRetries": 1
        },
        {
            "appName": "FFmpeg",
            "installCommand": "choco install ffmpeg -y",
            "checkCommand": "Test-Path \"C:\\ProgramData\\chocolatey\\lib\\ffmpeg\\tools\\ffmpeg\\bin\\ffmpeg.exe\"",
            "uninstallCommand": "choco uninstall ffmpeg -y",
            "envPath": "C:\\ProgramData\\chocolatey\\lib\\ffmpeg\\tools\\ffmpeg\\bin",
            "manualInstallUrl": "https://ffmpeg.org/download.html",
            "manualInstallPath": null,
            "isCoreTool": true,
            "maxRetries": 1,
            "version": "7.1"
        }
    ]
}